{
  "exam": "FIT2004 - Exam 25-2",
  "part": 2,
  "questions_in_part": 5,
  "part_summary": {
    "total_marks": 15,
    "obtained": 12,
    "breakdown": [
      {"q": 6, "marks": "3/3", "topic": "Floyd-Warshall Algorithm"},
      {"q": 7, "marks": "3/3", "topic": "Min-Cut"},
      {"q": 8, "marks": "3/3", "topic": "Circulation with Demands"},
      {"q": 9, "marks": "3/3", "topic": "Suffix Trees"},
      {"q": 10, "marks": "0/3", "topic": "2-3 Search Trees"}
    ]
  },

  "questions": [
    {
      "q_num": 6,
      "marks": 3,
      "type": "numerical_multi_part",
      "topic": "Floyd-Warshall All-Pairs Shortest Path",
      "solution_file": "25-2_question_6_floyd_warshall_trace.md",

      "problem_statement": {
        "description": "Execute Floyd-Warshall algorithm on a directed weighted graph and answer questions about intermediate states.",
        "graph": {
          "vertices": [1, 2, 3, 4],
          "edges": [
            {"from": 1, "to": 2, "weight": 2},
            {"from": 2, "to": 4, "weight": 3},
            {"from": 3, "to": 1, "weight": 1},
            {"from": 3, "to": 2, "weight": 4},
            {"from": 4, "to": 3, "weight": 2},
            {"from": 4, "to": 1, "weight": 4}
          ]
        }
      },

      "sub_questions": [
        {
          "id": "6a",
          "question": "During the first iteration (k=1), how many distance estimates are improved?",
          "student_answer": "2",
          "correct_answer": "2",
          "marks": "1/1"
        },
        {
          "id": "6b",
          "question": "What is distance[1][3] after iterations k=1 and k=2?",
          "student_answer": "infinity",
          "correct_answer": "infinity",
          "marks": "1/1"
        },
        {
          "id": "6c",
          "question": "What is distance[3][4] after iterations k=1 and k=2?",
          "student_answer": "6",
          "correct_answer": "6",
          "marks": "1/1"
        }
      ],

      "grading": {
        "marks_obtained": 3,
        "feedback": "All correct. Floyd-Warshall executed properly."
      }
    },

    {
      "q_num": 7,
      "marks": 3,
      "type": "multiple_choice",
      "topic": "Network Flow - Minimum Cut",
      "solution_file": "25-2_question_7_solution.md",

      "problem_statement": {
        "description": "Find the minimum cut in a flow network.",
        "network": {
          "nodes": ["s", "a", "b", "c", "d", "t"],
          "edges_with_capacities": [
            {"from": "s", "to": "a", "capacity": 9},
            {"from": "s", "to": "b", "capacity": 8},
            {"from": "a", "to": "c", "capacity": 5},
            {"from": "a", "to": "b", "capacity": 11},
            {"from": "a", "to": "d", "capacity": 5},
            {"from": "b", "to": "a", "capacity": 5},
            {"from": "b", "to": "d", "capacity": 3},
            {"from": "c", "to": "d", "capacity": 2},
            {"from": "c", "to": "t", "capacity": 6},
            {"from": "d", "to": "t", "capacity": 7}
          ]
        },
        "question": "Which set S corresponds to the minimum cut?"
      },

      "answer_options": [
        "A: S = {s}",
        "B: S = {s, a}",
        "C: S = {s, b}",
        "D: S = {s, c}",
        "E: S = {s, d}",
        "F: S = {s, a, b}",
        "G: S = {s, a, c}",
        "H: S = {s, a, d}",
        "I: S = {s, b, c}",
        "J: S = {s, b, d}",
        "K: S = {s, c, d}",
        "L: S = {s, a, b, c}",
        "M: S = {s, a, b, d}",
        "N: S = {s, a, c, d}"
      ],

      "student_answer": {
        "selected": "M",
        "value": "S = {s, a, b, d}",
        "correct": true
      },

      "correct_answer": {
        "option": "M",
        "set_S": ["s", "a", "b", "d"],
        "set_T": ["c", "t"],
        "cut_capacity": 12,
        "cut_edges": ["a→c (5)", "d→t (7)"],
        "brief": "Max flow = min cut = 12. Vertices reachable from s in residual graph: {s,a,b,d}"
      },

      "grading": {
        "marks_obtained": 3,
        "feedback": "Correct!"
      }
    },

    {
      "q_num": 8,
      "marks": 3,
      "type": "feasibility_analysis",
      "topic": "Circulation with Demands and Lower Bounds",
      "solution_file": "25-2_question_8_solution.md",

      "problem_statement": {
        "description": "Determine if circulation with demands and lower bounds is feasible for two problems.",
        "notation": "Each edge shows lower_bound/capacity, each vertex shows demand (negative = supply)"
      },

      "sub_problems": [
        {
          "id": "Problem 1",
          "vertices": [
            {"id": "x", "demand": -3},
            {"id": "u", "demand": -3},
            {"id": "v", "demand": 1},
            {"id": "w", "demand": 5}
          ],
          "edges": [
            {"from": "x", "to": "u", "lower": 1, "capacity": 3},
            {"from": "x", "to": "v", "lower": 1, "capacity": 3},
            {"from": "u", "to": "v", "lower": 1, "capacity": 1},
            {"from": "u", "to": "w", "lower": 1, "capacity": 4},
            {"from": "v", "to": "w", "lower": 1, "capacity": 2}
          ],
          "student_answer": "FEASIBLE",
          "correct_answer": "FEASIBLE",
          "reason": "Demand sum = 0 (balanced). Lower bounds can be satisfied."
        },
        {
          "id": "Problem 2",
          "vertices": [
            {"id": "x", "demand": -3},
            {"id": "u", "demand": -2},
            {"id": "v", "demand": 3},
            {"id": "w", "demand": 3}
          ],
          "edges": [
            {"from": "x", "to": "u", "lower": 1, "capacity": 2},
            {"from": "x", "to": "v", "lower": 1, "capacity": 2},
            {"from": "u", "to": "v", "lower": 2, "capacity": 3},
            {"from": "u", "to": "w", "lower": 1, "capacity": 4},
            {"from": "v", "to": "w", "lower": 1, "capacity": 4}
          ],
          "student_answer": "INFEASIBLE",
          "correct_answer": "INFEASIBLE",
          "reason": "Demand sum = 1 ≠ 0 (not balanced). Necessary condition violated."
        }
      ],

      "grading": {
        "marks_obtained": 3,
        "feedback": "Both correct. P1: feasible (balanced demands). P2: infeasible (demands don't sum to 0)."
      }
    },

    {
      "q_num": 9,
      "marks": 3,
      "type": "numerical",
      "topic": "Suffix Trees - Node Counting",
      "solution_file": "25-2_question_9_solution.md",

      "problem_statement": {
        "string": "ABCAABCA$",
        "question": "How many non-leaf nodes are there in its suffix tree?"
      },

      "student_answer": {
        "value": "5",
        "correct": true
      },

      "correct_answer": {
        "value": "5",
        "brief": "9 suffixes → 9 leaves. Suffix tree has 5 internal nodes (including root) due to branching at common prefixes."
      },

      "grading": {
        "marks_obtained": 3,
        "feedback": "Correct!"
      }
    },

    {
      "q_num": 10,
      "marks": 3,
      "type": "numerical",
      "topic": "2-3 Search Trees - Insertion Operations",
      "solution_file": "25-2_question_10_solution.md",

      "problem_statement": {
        "description": "Perform insertions on a 2-3 tree and count 3-nodes in result.",
        "initial_tree": {
          "root": {"type": "3-node", "keys": [12, 23]},
          "structure_summary": "13 total nodes, 2 initial 3-nodes, height 2",
          "keys_present": [2, 3, 5, 7, 8, 9, 12, 17, 20, 22, 23, 28, 32, 33, 37]
        },
        "operations": ["Insert 26", "Insert 11", "Insert 50", "Insert 29"],
        "question": "How many 3-nodes in the resulting tree?"
      },

      "student_answer": {
        "value": "4",
        "correct": false
      },

      "correct_answer": {
        "value": "5",
        "explanation": "Initial: 2 3-nodes. +3 from inserting 26,11,50. Insert 29 causes split but maintains net 3-node count.",
        "trace": "Initial 3-nodes: [12,23], [3,7]. After 26→[26,28], 11→[9,11], 50→[37,50]: 5 3-nodes. Insert 29 into [26,28] splits to promote 28, parent [32]→[28,32]. Final: 5 3-nodes.",
        "final_3_nodes": ["[12,23]", "[3,7]", "[9,11]", "[28,32]", "[37,50]"]
      },

      "grading": {
        "marks_obtained": 0,
        "feedback": "Incorrect. Answered 4, correct is 5. Likely miscounted after the split operation."
      }
    }
  ]
}
